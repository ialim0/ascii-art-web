<!DOCTYPE html>
<html>
<head>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">

	<title>ASCII Art Generator Web app</title>
	<link rel="icon" href="css/favicon.ico" type="image/x-icon">
	<link rel="stylesheet" type="text/css" href="css/style.css">
</head>
<body>
	<section>
		<div class="content-wrapper">
			<div class="container">
				<div class="col">
					<p>TODAY Date: <span class="felem" id="currentDate"></span></p>
					<div style="width: 100%; height: 0; padding-bottom: 67%; position: relative; display: flex; justify-content: center;">
						<img src="css/giphy.gif" width="100%" height="100%" style="position:absolute" frameBorder="0" class="giphy-embed" allowFullScreen alt="">
					</div>
					<h1>Open source ASCII Art Generator <!--by <a href="https://github.com/ialim0" target="_blank">@ialim</a>--></h1>
					<form action="/ascii-art" method="POST" onsubmit="showDownloadButton()">
						<label for="text">Type your text:</label><br>
						<textarea name="text" id="text" rows="10" cols="50" required></textarea><br>
						<label for="banner">Choose your banner type:</label>
						<select name="banner" id="banner" required>
							<option value="standard">Standard</option>
							<option value="shadow">Shadow</option>
							<option value="thinkertoy">Thinkertoy</option>
							<option value="graffiti">Graffiti</option>
						</select><br>
						<input type="submit" value="SUBMIT">
					</form>
									
					<div class="downloadDiv">
						<a id="downloadLink" href="/download?result={{ .Result }}" download {{ if .Result }}{{ else }}hidden{{ end }}>
							<input type="button" value="Download">
						</a>
					</div>
					
					
					
					

				

				</div>
			</div>
		
				{{ if .Result }}
					<div class="result">
						<pre class="resulttext">{{ .Result }}</pre>
					</div>
				{{ end }}
		
		</div>
	
	</section>

	<script>
		// JavaScript code to display the current date
		const currentDateElement = document.getElementById('currentDate');
		const currentDate = new Date().toLocaleDateString();
		currentDateElement.textContent = currentDate;
	</script>
<script>
	function showDownloadButton() {
		const resultText = document.querySelector('.resulttext').textContent;
		const downloadForm = document.getElementById('downloadForm');
		const resultInput = downloadForm.querySelector('input[name="result"]');
		resultInput.value = resultText;
		downloadForm.submit();
	}
</script>

	
</body>
</html>
